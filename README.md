# ğŸ¨ AI å¹¿å‘Šåˆ›æ„ç”Ÿæˆå¹³å°

> åŸºäºé˜¿é‡Œäº‘é€šä¹‰ä¸‡ç›¸å’Œåƒé—®çš„æ™ºèƒ½å¹¿å‘Šåˆ›æ„ç”Ÿæˆå¹³å°ï¼Œæ”¯æŒæ–‡æ¡ˆç”Ÿæˆã€åˆ›æ„ç”Ÿæˆã€AB å®éªŒå’Œæ¨¡å‹è¿½è¸ª

[![Go Version](https://img.shields.io/badge/Go-1.21+-blue.svg)](https://go.dev/)
[![React Version](https://img.shields.io/badge/React-18+-61dafb.svg)](https://reactjs.org/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.7+-3178c6.svg)](https://www.typescriptlang.org/)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-14+-336791.svg)](https://www.postgresql.org/)

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ¯ æ™ºèƒ½åˆ›æ„ç”Ÿæˆ
- **å®Œæ•´çš„åˆ›æ„å·¥ä½œæµ** - æ–‡æ¡ˆç”Ÿæˆ â†’ ç¡®è®¤ â†’ å›¾ç‰‡ç”Ÿæˆ
- **AI æ–‡æ¡ˆç”Ÿæˆ** - åŸºäºé€šä¹‰åƒé—®è‡ªåŠ¨ç”Ÿæˆ CTA å’Œå–ç‚¹
- **AI å›¾åƒç”Ÿæˆ** - é›†æˆé€šä¹‰ä¸‡ç›¸ç”Ÿæˆä¸“ä¸šå¹¿å‘Šå›¾
- **å¤šå°ºå¯¸æ”¯æŒ** - æ”¯æŒ 1:1ã€9:16ã€16:9 ç­‰å¤šç§å¹¿å‘Šå°ºå¯¸
- **å¤šå˜ä½“ç”Ÿæˆ** - ä¸€æ¬¡ç”Ÿæˆå¤šä¸ªåˆ›æ„å˜ä½“ä¾›é€‰æ‹©

### ğŸ§ª AB å®éªŒå¹³å°
- **å®éªŒç®¡ç†** - åˆ›å»ºå’Œç®¡ç†åˆ›æ„ AB å®éªŒ
- **æ™ºèƒ½åˆ†æµ** - åŸºäºåˆ†æ¡¶çš„æµé‡åˆ†é…æœºåˆ¶
- **å®æ—¶æŒ‡æ ‡** - æ›å…‰ã€ç‚¹å‡»ã€CTR å®æ—¶ç»Ÿè®¡
- **æƒé‡é…ç½®** - æ”¯æŒè‡ªå®šä¹‰å˜ä½“æƒé‡åˆ†é…

### ğŸ“Š æ•°æ®åˆ†æ
- **ä»»åŠ¡ç®¡ç†** - å®Œæ•´çš„ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸç®¡ç†
- **ç´ æè¯„åˆ†** - è´¨é‡è¯„åˆ†ã€CTR é¢„æµ‹ã€NSFW æ£€æµ‹
- **æ¨¡å‹è¿½è¸ª** - è®°å½•æ‰€æœ‰ AI æ¨¡å‹è°ƒç”¨é“¾è·¯
- **æ€§èƒ½ç›‘æ§** - è¿½è¸ªæ¯ä¸ªæ­¥éª¤çš„è€—æ—¶å’ŒçŠ¶æ€

### â˜ï¸ äº‘æœåŠ¡é›†æˆ
- **ä¸ƒç‰›äº‘å­˜å‚¨** - è‡ªåŠ¨ä¸Šä¼ å¹¶ç®¡ç†ç”Ÿæˆçš„ç´ æ
- **é˜¿é‡Œäº‘ RDS** - ç”Ÿäº§ç¯å¢ƒ PostgreSQL æ•°æ®åº“
- **é€šä¹‰ä¸‡ç›¸** - AI å›¾åƒç”Ÿæˆ
- **é€šä¹‰åƒé—®** - AI æ–‡æ¡ˆç”Ÿæˆ

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯æŠ€æœ¯æ ˆ
```
Go 1.21+ (Gin + GORM)
â”œâ”€â”€ Web æ¡†æ¶: Gin
â”œâ”€â”€ ORM: GORM
â”œâ”€â”€ æ•°æ®åº“:
â”‚   â”œâ”€â”€ PostgreSQL 14+ (ç”Ÿäº§ç¯å¢ƒ - é˜¿é‡Œäº‘ RDS)
â”‚   â””â”€â”€ MySQL 8.0 (æœ¬åœ°å¼€å‘)
â”œâ”€â”€ AI æœåŠ¡:
â”‚   â”œâ”€â”€ é˜¿é‡Œäº‘é€šä¹‰ä¸‡ç›¸ (å›¾åƒç”Ÿæˆ)
â”‚   â””â”€â”€ é˜¿é‡Œäº‘é€šä¹‰åƒé—® (æ–‡æ¡ˆç”Ÿæˆ)
â””â”€â”€ å­˜å‚¨: ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨
```

### å‰ç«¯æŠ€æœ¯æ ˆ
```
React 18 + TypeScript 5.7 + Vite 6.0
â”œâ”€â”€ UI æ¡†æ¶: React 18
â”œâ”€â”€ ç±»å‹å®‰å…¨: TypeScript 5.7
â”œâ”€â”€ æ„å»ºå·¥å…·: Vite 6.0
â”œâ”€â”€ è·¯ç”±: React Router v6
â””â”€â”€ HTTP å®¢æˆ·ç«¯: Axios
```

### éƒ¨ç½²æ¶æ„
- **å‰åç«¯ä¸€ä½“åŒ–** - Go æœåŠ¡å™¨æ‰˜ç®¡å‰ç«¯é™æ€æ–‡ä»¶
- **äº‘åŸç”Ÿéƒ¨ç½²** - æ”¯æŒ Fly.ioã€Render ç­‰äº‘å¹³å°
- **å®¹å™¨åŒ–æ”¯æŒ** - æä¾› Docker å’Œ Docker Compose é…ç½®

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Go**: 1.21+
- **Node.js**: 18+
- **æ•°æ®åº“**: PostgreSQL 14+ æˆ– MySQL 8.0+

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-org/ads-creative-gen-platform.git
cd ads-creative-gen-platform
```

### 2. é…ç½®ç¯å¢ƒå˜é‡

```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶
vim .env
```

é…ç½®ç¤ºä¾‹ï¼š
```bash
# åº”ç”¨é…ç½®
APP_MODE=debug              # debug/release
HTTP_PORT=:4000

# æ•°æ®åº“é…ç½®
DB_TYPE=postgres            # postgres/mysql
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_password
DB_NAME=ads_creative_gen_platform
DB_CHARSET=utf8

# é€šä¹‰ API é…ç½®
TONGYI_API_KEY=your_tongyi_api_key
TONGYI_IMAGE_MODEL=wanx-v1
TONGYI_LLM_MODEL=qwen-turbo

# ä¸ƒç‰›äº‘é…ç½®
QINIU_ACCESS_KEY=your_qiniu_access_key
QINIU_SECRET_KEY=your_qiniu_secret_key
QINIU_BUCKET=your_bucket_name
QINIU_DOMAIN=your_cdn_domain
QINIU_REGION=cn-south-1
QINIU_BASE_PATH=s3/
```

### 3. åˆå§‹åŒ–æ•°æ®åº“

```bash
# PostgreSQL
psql -U postgres -c "CREATE DATABASE ads_creative_gen_platform;"

# æˆ– MySQL
mysql -u root -p -e "CREATE DATABASE ads_creative_gen_platform CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# è¿è¡Œæ•°æ®åº“è¿ç§»ï¼ˆé¦–æ¬¡å®‰è£…æˆ–æ›´æ–°è¡¨ç»“æ„æ—¶ï¼‰
go run cmd/migrate/main.go -action migrate

# æ·»åŠ é»˜è®¤æ•°æ®ï¼ˆå¯é€‰ï¼‰
go run cmd/migrate/main.go -action seed
```

> **è¿ç§»å‘½ä»¤è¯´æ˜**ï¼š
> - `migrate`: åˆ›å»º/æ›´æ–°è¡¨ç»“æ„ï¼ˆä¸ä¼šåˆ é™¤ç°æœ‰æ•°æ®ï¼‰
> - `seed`: æ·»åŠ é»˜è®¤æ•°æ®ï¼ˆç®¡ç†å‘˜è´¦å·ã€é»˜è®¤æ ‡ç­¾ç­‰ï¼‰
> - `reset`: âš ï¸ é‡ç½®æ•°æ®åº“ï¼ˆåˆ é™¤æ‰€æœ‰æ•°æ®å¹¶é‡æ–°åˆå§‹åŒ–ï¼‰

### 4. å¯åŠ¨åç«¯æœåŠ¡

```bash
# å®‰è£…ä¾èµ–
go mod download

# å¯åŠ¨æœåŠ¡
go run main.go
```

### 5. æ„å»ºå¹¶å¯åŠ¨å‰ç«¯

```bash
cd web

# å®‰è£…ä¾èµ–
npm install

# æ„å»ºå‰ç«¯ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
npm run build

# æˆ–å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### 6. è®¿é—®åº”ç”¨

**ç”Ÿäº§æ¨¡å¼ï¼ˆå‰åç«¯ä¸€ä½“åŒ–ï¼‰ï¼š**
- åº”ç”¨åœ°å€: http://localhost:4000
- API æ¥å£: http://localhost:4000/api/v1
- å¥åº·æ£€æŸ¥: http://localhost:4000/health

**å¼€å‘æ¨¡å¼ï¼ˆå‰åç«¯åˆ†ç¦»ï¼‰ï¼š**
- å‰ç«¯: http://localhost:5173 (Vite dev server)
- åç«¯: http://localhost:4000

## ğŸ“ é¡¹ç›®ç»“æ„

```
ads-creative-gen-platform/
â”œâ”€â”€ cmd/                        # å‘½ä»¤è¡Œå·¥å…·
â”‚   â””â”€â”€ migrate/               # æ•°æ®åº“è¿ç§»å·¥å…·
â”œâ”€â”€ config/                    # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ config.go             # é…ç½®åŠ è½½å™¨
â”‚   â””â”€â”€ sql/                  # è¿ç§» SQL æ–‡ä»¶
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ handlers/             # HTTP å¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ creative_handler.go    # åˆ›æ„ç”Ÿæˆæ¥å£
â”‚   â”‚   â”œâ”€â”€ experiment_handler.go  # AB å®éªŒæ¥å£
â”‚   â”‚   â””â”€â”€ trace_handler.go       # æ¨¡å‹è¿½è¸ªæ¥å£
â”‚   â”œâ”€â”€ services/             # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”œâ”€â”€ creative_service.go    # åˆ›æ„ç”ŸæˆæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ copywriting_service.go # æ–‡æ¡ˆç”ŸæˆæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ experiment_service.go  # å®éªŒç®¡ç†æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ tongyi_client.go       # é€šä¹‰ä¸‡ç›¸å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ qwen_client.go         # é€šä¹‰åƒé—®å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ qiniu_service.go       # ä¸ƒç‰›äº‘å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ models/               # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ creative.go       # åˆ›æ„ä»»åŠ¡å’Œç´ æ
â”‚   â”‚   â”œâ”€â”€ experiment.go     # AB å®éªŒ
â”‚   â”‚   â””â”€â”€ trace.go          # æ¨¡å‹è¿½è¸ª
â”‚   â””â”€â”€ middleware/           # ä¸­é—´ä»¶
â”‚       â””â”€â”€ cors.go           # CORS é…ç½®
â”œâ”€â”€ pkg/
â”‚   â””â”€â”€ database/             # æ•°æ®åº“è¿æ¥å±‚
â”œâ”€â”€ web/                      # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ DashboardPage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CreativeGeneratorPage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TasksPage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AssetsPage.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ExperimentsPage.tsx
â”‚   â”‚   â”‚   â””â”€â”€ TracePage.tsx
â”‚   â”‚   â”œâ”€â”€ components/      # å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ services/        # API å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ types/           # TypeScript ç±»å‹
â”‚   â””â”€â”€ dist/                # æ„å»ºäº§ç‰©ï¼ˆå‰ç«¯é™æ€æ–‡ä»¶ï¼‰
â”œâ”€â”€ docs/                    # ğŸ“š æ–‡æ¡£ä¸­å¿ƒ
â”‚   â”œâ”€â”€ README.md           # æ–‡æ¡£ç´¢å¼•
â”‚   â”œâ”€â”€ api-reference.md    # API æ¥å£æ–‡æ¡£
â”‚   â”œâ”€â”€ database.md         # æ•°æ®åº“è®¾è®¡
â”‚   â”œâ”€â”€ guides/             # å¼€å‘å’Œéƒ¨ç½²æŒ‡å—
â”‚   â”‚   â”œâ”€â”€ development.md  # å¼€å‘æŒ‡å—
â”‚   â”‚   â””â”€â”€ deployment.md   # éƒ¨ç½²æŒ‡å—
â”‚   â””â”€â”€ design/             # åŠŸèƒ½è®¾è®¡æ–‡æ¡£
â”‚       â”œâ”€â”€ copywriting-feature.md
â”‚       â”œâ”€â”€ experiment-feature.md
â”‚       â”œâ”€â”€ model-trace-page.md
â”‚       â””â”€â”€ plugin-widget.md
â”œâ”€â”€ scripts/                # ğŸ”§ ç®¡ç†è„šæœ¬
â”‚   â”œâ”€â”€ start.sh           # å¯åŠ¨æœåŠ¡
â”‚   â”œâ”€â”€ stop.sh            # åœæ­¢æœåŠ¡
â”‚   â””â”€â”€ status.sh          # æŸ¥çœ‹çŠ¶æ€
â”œâ”€â”€ Dockerfile             # Docker é•œåƒé…ç½®
â”œâ”€â”€ fly.toml              # Fly.io éƒ¨ç½²é…ç½®
â”œâ”€â”€ render.yaml           # Render éƒ¨ç½²é…ç½®
â”œâ”€â”€ docker-compose.yml    # Docker Compose é…ç½®
â”œâ”€â”€ .env.example          # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ main.go              # ç¨‹åºå…¥å£
```

## ğŸ¯ æ ¸å¿ƒ API

### æ–‡æ¡ˆç”Ÿæˆå·¥ä½œæµ

```bash
# 1. ç”Ÿæˆæ–‡æ¡ˆå€™é€‰
POST /api/v1/copywriting/generate
{
  "product_name": "å¤å­£æ¸…å‡‰Tæ¤"
}

# 2. ç¡®è®¤æ–‡æ¡ˆå¹¶å¯åŠ¨åˆ›æ„ç”Ÿæˆ
POST /api/v1/copywriting/confirm
{
  "product_name": "å¤å­£æ¸…å‡‰Tæ¤",
  "cta": "ç«‹å³æŠ¢è´­",
  "selling_point": "çº¯æ£‰é€æ°”ï¼Œæ¸…å‡‰ä¸€å¤",
  "requested_formats": ["1:1", "9:16"],
  "num_variants": 3
}
```

### ä»»åŠ¡ç®¡ç†

```bash
# æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
GET /api/v1/creative/task/{task_id}

# è·å–ä»»åŠ¡åˆ—è¡¨
GET /api/v1/creative/tasks?page=1&page_size=10

# åˆ é™¤ä»»åŠ¡
DELETE /api/v1/creative/task/{task_id}
```

### ç´ æç®¡ç†

```bash
# è·å–ç´ æåˆ—è¡¨
GET /api/v1/creative/assets?page=1&page_size=20&format=1:1
```

### AB å®éªŒ

```bash
# åˆ›å»ºå®éªŒ
POST /api/v1/experiments
{
  "name": "å¤å­£Tæ¤å¹¿å‘Šæµ‹è¯•",
  "description": "æµ‹è¯•ä¸åŒé£æ ¼çš„å¹¿å‘Šæ•ˆæœ",
  "variants": [
    {"creative_id": "uuid1", "weight": 0.5},
    {"creative_id": "uuid2", "weight": 0.5}
  ]
}

# åˆ†æµåˆ†é…
GET /api/v1/experiments/{id}/assign?user_id=user123

# è®°å½•æ›å…‰
POST /api/v1/experiments/{id}/hit
{
  "user_id": "user123",
  "variant_id": "variant_uuid"
}

# è®°å½•ç‚¹å‡»
POST /api/v1/experiments/{id}/click
{
  "user_id": "user123",
  "variant_id": "variant_uuid"
}

# æŸ¥çœ‹å®éªŒæŒ‡æ ‡
GET /api/v1/experiments/{id}/metrics
```

### æ¨¡å‹è¿½è¸ª

```bash
# æŸ¥è¯¢è¿½è¸ªåˆ—è¡¨
GET /api/v1/model_traces

# è·å–è¿½è¸ªè¯¦æƒ…
GET /api/v1/model_traces/{id}
```

## ğŸ“š å®Œæ•´æ–‡æ¡£

- [ğŸ“– æ–‡æ¡£ä¸­å¿ƒ](docs/README.md) - å®Œæ•´æ–‡æ¡£å¯¼èˆª
- [ğŸ”Œ API å‚è€ƒ](docs/api-reference.md) - è¯¦ç»†çš„ REST API æ¥å£è¯´æ˜
- [ğŸ’¾ æ•°æ®åº“è®¾è®¡](docs/database.md) - æ•°æ®åº“è¡¨ç»“æ„å’Œ ER å›¾
- [ğŸ‘¨â€ğŸ’» å¼€å‘æŒ‡å—](docs/guides/development.md) - æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®
- [ğŸš€ éƒ¨ç½²æŒ‡å—](docs/guides/deployment.md) - äº‘ç«¯éƒ¨ç½²å’Œè‡ªå»ºæœåŠ¡å™¨éƒ¨ç½²

## â˜ï¸ éƒ¨ç½²æ–¹å¼

### æ–¹å¼ä¸€ï¼šFly.io éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# å®‰è£… Fly CLI
brew install flyctl

# ç™»å½•
flyctl auth login

# éƒ¨ç½²åº”ç”¨
flyctl deploy
```

**ç‰¹ç‚¹**ï¼š
- âœ… å…¨çƒéƒ¨ç½²ï¼Œé¦™æ¸¯èŠ‚ç‚¹
- âœ… è‡ªåŠ¨ HTTPS
- âœ… è‡ªåŠ¨ä¼‘çœ èŠ‚çœè´¹ç”¨

è¯¦è§ï¼š[Fly.io éƒ¨ç½²æŒ‡å—](docs/guides/deployment.md#æ–¹å¼ä¸€-flyio-éƒ¨ç½²æ¨è)

### æ–¹å¼äºŒï¼šRender éƒ¨ç½²

```bash
# 1. è¿æ¥ GitHub ä»“åº“åˆ° Render
# 2. ä½¿ç”¨ render.yaml è‡ªåŠ¨é…ç½®
# 3. åœ¨ Dashboard è®¾ç½®ç¯å¢ƒå˜é‡
# 4. è‡ªåŠ¨éƒ¨ç½²
```

**ç‰¹ç‚¹**ï¼š
- âœ… GitHub é›†æˆï¼Œæ¨é€è‡ªåŠ¨éƒ¨ç½²
- âœ… é›¶é…ç½®
- âœ… å…è´¹å±‚å¯ç”¨

è¯¦è§ï¼š[Render éƒ¨ç½²æŒ‡å—](docs/guides/deployment.md#æ–¹å¼äºŒ-render-éƒ¨ç½²)

### æ–¹å¼ä¸‰ï¼šDocker éƒ¨ç½²

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆMySQLã€Redisã€MinIOï¼‰
docker-compose up -d

# æŸ¥çœ‹çŠ¶æ€
docker-compose ps

# åœæ­¢æœåŠ¡
docker-compose down
```

è¯¦è§ï¼š[Docker éƒ¨ç½²æŒ‡å—](docs/guides/deployment.md#æ–¹å¼å››-docker-éƒ¨ç½²)

### æ–¹å¼å››ï¼šè‡ªå»ºæœåŠ¡å™¨

ä½¿ç”¨ Systemd + Nginx éƒ¨ç½²ï¼Œè¯¦è§ï¼š[ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—](docs/guides/deployment.md#æ–¹å¼äº”-ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²è‡ªå»ºæœåŠ¡å™¨)

## ğŸ”§ ç®¡ç†è„šæœ¬

é¡¹ç›®æä¾›äº†ä¾¿æ·çš„ç®¡ç†è„šæœ¬ï¼ˆä½äº `scripts/` ç›®å½•ï¼‰ï¼š

```bash
# å¯åŠ¨æœåŠ¡ï¼ˆè‡ªåŠ¨æ£€æŸ¥æ•°æ®åº“ã€è¿è¡Œè¿ç§»ï¼‰
./scripts/start.sh

# åœæ­¢æœåŠ¡
./scripts/stop.sh

# æŸ¥çœ‹çŠ¶æ€
./scripts/status.sh
```

## ğŸ“Š æ•°æ®åº“

### æ ¸å¿ƒæ•°æ®è¡¨

- **ç”¨æˆ·ä¸é¡¹ç›®**
  - `users` - ç”¨æˆ·è¡¨
  - `projects` - é¡¹ç›®è¡¨
  - `tags` - æ ‡ç­¾è¡¨

- **åˆ›æ„ç”Ÿæˆ**
  - `creative_tasks` - åˆ›æ„ä»»åŠ¡è¡¨
  - `creative_assets` - ç´ æè¡¨
  - `creative_scores` - è¯„åˆ†è¡¨

- **AB å®éªŒ**
  - `experiments` - å®éªŒä¸»è¡¨
  - `experiment_variants` - å®éªŒå˜ä½“è¡¨
  - `experiment_metrics` - å®éªŒæŒ‡æ ‡è¡¨

- **æ¨¡å‹è¿½è¸ª**
  - `model_traces` - æ¨¡å‹è¿½è¸ªä¸»è¡¨
  - `model_trace_steps` - è¿½è¸ªæ­¥éª¤è¡¨

è¯¦è§ï¼š[æ•°æ®åº“è®¾è®¡æ–‡æ¡£](docs/database.md)

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### åç«¯å¼€å‘

```bash
# å®‰è£…ä¾èµ–
go mod download

# è¿è¡Œæ•°æ®åº“è¿ç§»ï¼ˆå¦‚éœ€æ›´æ–°è¡¨ç»“æ„ï¼‰
go run cmd/migrate/main.go -action migrate

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
go run main.go

# è¿è¡Œæµ‹è¯•
go test ./...
```

### å‰ç«¯å¼€å‘

```bash
cd web

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼ˆçƒ­é‡è½½ï¼‰
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# TypeScript ç±»å‹æ£€æŸ¥
npx tsc --noEmit

# é¢„è§ˆç”Ÿäº§æ„å»º
npm run preview
```

### ä»£ç è§„èŒƒ

- åç«¯éµå¾ª Go æ ‡å‡†ä»£ç è§„èŒƒ
- å‰ç«¯ä½¿ç”¨ TypeScript ä¸¥æ ¼æ¨¡å¼
- ä½¿ç”¨ ESLint å’Œ Prettier æ ¼å¼åŒ–ä»£ç 

## ğŸ” ç¯å¢ƒé…ç½®

### å¿…éœ€çš„ç¯å¢ƒå˜é‡

```bash
# æ•°æ®åº“
DB_TYPE=postgres
DB_HOST=your_db_host
DB_PORT=5432
DB_USER=your_user
DB_PASSWORD=your_password
DB_NAME=ads_creative_gen_platform

# é€šä¹‰ API
TONGYI_API_KEY=your_api_key

# ä¸ƒç‰›äº‘
QINIU_ACCESS_KEY=your_access_key
QINIU_SECRET_KEY=your_secret_key
QINIU_BUCKET=your_bucket
```

### å¯é€‰çš„ç¯å¢ƒå˜é‡

```bash
# åº”ç”¨é…ç½®
APP_MODE=release              # debug/release
HTTP_PORT=:8080               # é»˜è®¤ :4000

# é€šä¹‰æ¨¡å‹é…ç½®
TONGYI_IMAGE_MODEL=wanx-v1    # å›¾åƒç”Ÿæˆæ¨¡å‹
TONGYI_LLM_MODEL=qwen-turbo   # æ–‡æ¡ˆç”Ÿæˆæ¨¡å‹

# ä¸ƒç‰›äº‘é…ç½®
QINIU_DOMAIN=cdn.example.com  # è‡ªå®šä¹‰åŸŸå
QINIU_REGION=cn-south-1       # å­˜å‚¨åŒºåŸŸ
QINIU_BASE_PATH=s3/           # å­˜å‚¨è·¯å¾„å‰ç¼€
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

### å¼€å‘æµç¨‹

```bash
# 1. Fork é¡¹ç›®
# 2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/your-feature

# 3. æäº¤æ›´æ”¹
git commit -m "feat: add your feature"

# 4. æ¨é€åˆ°åˆ†æ”¯
git push origin feature/your-feature

# 5. åˆ›å»º Pull Request
```

### æäº¤è§„èŒƒ

- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: é‡æ„ä»£ç 
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·ç›¸å…³

## ğŸ†˜ å¸¸è§é—®é¢˜

### 1. æ•°æ®åº“è¿æ¥å¤±è´¥

**é—®é¢˜**ï¼šæœåŠ¡å¯åŠ¨æ—¶æç¤ºæ•°æ®åº“è¿æ¥å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥æ•°æ®åº“æ˜¯å¦è¿è¡Œ
# PostgreSQL
pg_isready

# MySQL
mysqladmin ping

# æ£€æŸ¥ç¯å¢ƒå˜é‡é…ç½®
cat .env | grep DB_
```

### 2. å‰ç«¯è®¿é—® 404

**é—®é¢˜**ï¼šè®¿é—®å‰ç«¯é¡µé¢è¿”å› 404

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# ç¡®ä¿å‰ç«¯å·²æ„å»º
cd web && npm run build

# æ£€æŸ¥ web/dist ç›®å½•æ˜¯å¦å­˜åœ¨
ls -la web/dist/

# é‡å¯åç«¯æœåŠ¡
go run main.go
```

### 3. API Key é…ç½®é”™è¯¯

**é—®é¢˜**ï¼šé€šä¹‰ API è°ƒç”¨å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥ API Key é…ç½®
echo $TONGYI_API_KEY

# æµ‹è¯• API è¿æ¥
curl -H "Authorization: Bearer YOUR_API_KEY" \
  https://dashscope.aliyuncs.com/api/v1/services/aigc/text-generation/generation
```

### 4. ä¸ƒç‰›äº‘ä¸Šä¼ å¤±è´¥

**é—®é¢˜**ï¼šå›¾ç‰‡ä¸Šä¼ åˆ°ä¸ƒç‰›äº‘å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥ä¸ƒç‰›äº‘é…ç½®
cat .env | grep QINIU_

# ç¡®ä¿ Bucket å­˜åœ¨ä¸”æœ‰æƒé™
# æ£€æŸ¥å­˜å‚¨åŒºåŸŸé…ç½®æ˜¯å¦æ­£ç¡®
```
